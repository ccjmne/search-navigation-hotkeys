// ==UserScript==
// @name Search Navigation Hotkeys
// @version 1.2.1
// @description Navigate results from Googleâ„¢ search without ever lifting your hands off the keyboard!
// @author Eric NICOLAS <ccjmne@gmail.com> (https://github.com/ccjmne)
// @namespace https://github.com/ccjmne/search-navigation-hotkeys#readme
// @include *://www.google.tld/search*
// @downloadURL https://raw.githubusercontent.com/ccjmne/search-navigation-hotkeys/master/dist/userscript/main.user.js
// @grant none
// ==/UserScript==
(function(b,c){if('object'==typeof exports&&'object'==typeof module)module.exports=c();else if('function'==typeof define&&define.amd)define([],c);else{var d=c();for(var a in d)('object'==typeof exports?exports:b)[a]=d[a]}})(window,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=6)}([function(a){'use strict';a.exports=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,c=0;return function(){var d=new Date().getTime();if(d-c>=b)return c=d,a.apply(void 0,arguments)}}},function(a,b,c){var d=c(2);'string'==typeof d&&(d=[[a.i,d,'']]);var e,f={hmr:!0};f.transform=e,f.insertInto=void 0;c(4)(d,f);d.locals&&(a.exports=d.locals),!1},function(a,b,c){b=a.exports=c(3)(!1),b.push([a.i,'#hdtbMenus .hdtb-mn-o .hdtbItm>a:focus,#hdtbMenus .hdtb-mn-o :not(input)[tabindex]:focus{background-color:rgba(0,0,0,0.1)}#ccjmne-snh-help-card{padding-bottom:1vh;transition:box-shadow 0.2s ease-out;border-radius:5px;background-color:#f8f8ff;box-shadow:0 3px 6px rgba(0, 0, 0, .16), 0 3px 6px rgba(0, 0, 0, .23);color:#444;font-size:16px;user-select:none}#ccjmne-snh-help-card #ccjmne-snh-help-card-title{display:flex;align-items:center;justify-content:space-around;padding:2vh 2vw;border-bottom:3px solid crimson;border-radius:5px 5px 0 0;background-color:#708090;color:#f8f8ff;font-size:18px}#ccjmne-snh-help-card a,#ccjmne-snh-help-card a:visited{color:#f8f8ff}#ccjmne-snh-help-card em{color:crimson;font-weight:normal}#ccjmne-snh-help-card kbd{display:inline-flex;padding:0.2em 0.5em;overflow:hidden;border:1px solid #aaa;border-radius:3px;background-color:#f8f8ff;box-shadow:0 1px 0 #aaa;font-family:monospace;white-space:nowrap;cursor:default}#ccjmne-snh-help-card kbd .kbd-addon{display:inline-flex;align-items:center;margin:-0.2em -0.5em -0.2em 0.5em;padding:0 0.5em;border-left:1px solid #aaa;background-color:rgba(0,0,0,0.1)}#ccjmne-snh-help-card .ccjmne-snh-indent{display:inline-block;margin-right:5px;transform:rotate(-10deg);opacity:.67}#ccjmne-snh-help-card .ccjmne-snh-indent::before{content:\'\\293F\';position:relative;top:5px;font-size:1.5em;font-weight:lighter;line-height:0}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-1{margin-left:1em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-2{margin-left:2em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-3{margin-left:3em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-4{margin-left:4em}#ccjmne-snh-help-card table{border-collapse:collapse;border-bottom:1vh solid #f8f8ff}#ccjmne-snh-help-card table tr{background-color:#f8f8ff}#ccjmne-snh-help-card table tr:nth-child(2n){background-color:#dde0e9}#ccjmne-snh-help-card table tr:hover{background-color:#b4bcc8;color:#000}#ccjmne-snh-help-card table tr:hover td::before{visibility:visible;left:-2vw}#ccjmne-snh-help-card table tr:hover td:last-child::before{left:2vw}#ccjmne-snh-help-card table tr:hover kbd{color:crimson}#ccjmne-snh-help-card table tr.ccjmne-snh-new-section td{border-top:2vh solid #f8f8ff}#ccjmne-snh-help-card table tr td{position:relative;padding:0.2em 0 0.2em 2vw;white-space:nowrap}#ccjmne-snh-help-card table tr td:last-child{padding-right:2vw;text-align:right}#ccjmne-snh-help-card table tr td::before{content:\'\';visibility:hidden;position:absolute;z-index:-1;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transition:all .1s ease-out;border-radius:3px;background-color:#b83852;box-shadow:0 3px 6px rgba(0, 0, 0, .16), 0 3px 6px rgba(0, 0, 0, .23)}#ccjmne-snh-indicator,.ccjmne-snh-number-indicator{position:absolute;left:-1.5em;cursor:help}#ccjmne-snh-indicator{color:crimson;font-size:18px}#ccjmne-snh-indicator::before{content:\'\\25B6\'}.ccjmne-snh-number-indicator{transform:translateX(-100%);color:#444;font-family:monospace;font-size:12px}#ccjmne-snh-indicator+.ccjmne-snh-number-indicator{display:none}#ccjmne-snh-backdrop{display:flex;position:fixed;z-index:999;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;perspective:1000px;background-color:rgba(0,0,0,0.35)}#ccjmne-snh-tilt-origin{transform-style:preserve-3d;transition:transform 0.2s ease-out}#ccjmne-snh-tilt-origin:hover #ccjmne-snh-help-shadow{opacity:.5}#ccjmne-snh-tilt-origin:hover #ccjmne-snh-help-card{box-shadow:0 14px 28px rgba(0, 0, 0, .25), 0 10px 10px rgba(0, 0, 0, .22)}#ccjmne-snh-help-shadow{position:absolute;top:0;right:0;bottom:0;left:0;transform:scale(1.7) translateZ(-650px);transition:opacity 0.2s ease-out;border-radius:5px;opacity:0;background-color:#708090}#ccjmne-snh-help-card-container{perspective:2000px}#ccjmne-snh-tooltip{display:flex;position:absolute;top:0;left:-.5em;align-items:center;height:30px;padding:0 1em;transition:box-shadow 0.2s ease-out;border:1px solid #708090;border-radius:10px 0 10px 10px;background-color:#fff;color:#708090;font-family:sans-serif;font-size:13px;white-space:nowrap}#ccjmne-snh-tooltip::before{content:"What\'s this?"}#ccjmne-snh-tooltip:active,#ccjmne-snh-tooltip:hover{border-color:#434d57;box-shadow:0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);color:#434d57;cursor:pointer}#ccjmne-snh-tooltip:active{background-color:#f8f8ff}\n',''])},function(a){function b(a,b){var d=a[1]||'',e=a[3];if(!e)return d;if(b&&'function'==typeof btoa){var f=c(e),g=e.sources.map(function(a){return'/*# sourceURL='+e.sourceRoot+a+' */'});return[d].concat(g).concat([f]).join('\n')}return[d].join('\n')}function c(a){var b=btoa(unescape(encodeURIComponent(JSON.stringify(a))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+b)+' */'}a.exports=function(a){var c=[];return c.toString=function(){return this.map(function(c){var d=b(c,a);return c[2]?'@media '+c[2]+'{'+d+'}':d}).join('')},c.i=function(a,b){'string'==typeof a&&(a=[[null,a,'']]);for(var d,e={},f=0;f<this.length;f++)d=this[f][0],'number'==typeof d&&(e[d]=!0);for(f=0;f<a.length;f++){var g=a[f];'number'==typeof g[0]&&e[g[0]]||(b&&!g[2]?g[2]=b:b&&(g[2]='('+g[2]+') and ('+b+')'),c.push(g))}},c}},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=p[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(l(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(l(d.parts[f],b));p[d.id]={id:d.id,refs:1,parts:g}}}}function e(a,b){for(var c=[],d={},e=0;e<a.length;e++){var f=a[e],g=b.base?f[0]+b.base:f[0],h=f[1],i=f[2],j=f[3],k={css:h,media:i,sourceMap:j};d[g]?d[g].parts.push(k):c.push(d[g]={id:g,parts:[k]})}return c}function f(a,b){var c=s(a.insertInto);if(!c)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var d=v[v.length-1];if('top'===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),v.push(b);else if('bottom'===a.insertAt)c.appendChild(b);else if('object'==typeof a.insertAt&&a.insertAt.before){var e=s(a.insertAt.before,c);c.insertBefore(b,e)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function g(a){if(null===a.parentNode)return!1;a.parentNode.removeChild(a);var b=v.indexOf(a);0<=b&&v.splice(b,1)}function h(a){var b=document.createElement('style');if(void 0===a.attrs.type&&(a.attrs.type='text/css'),void 0===a.attrs.nonce){var c=k();c&&(a.attrs.nonce=c)}return j(b,a.attrs),f(a,b),b}function i(a){var b=document.createElement('link');return void 0===a.attrs.type&&(a.attrs.type='text/css'),a.attrs.rel='stylesheet',j(b,a.attrs),f(a,b),b}function j(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function k(){return!1,c.nc}function l(a,b){var c,d,e,f;if(b.transform&&a.css)if(f=b.transform(a.css),f)a.css=f;else return function(){};if(b.singleton){var j=u++;c=t||(t=h(b)),d=m.bind(null,c,j,!1),e=m.bind(null,c,j,!0)}else a.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(c=i(b),d=o.bind(null,c,b),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=n.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function m(a,b,c,d){var e=c?'':d.css;if(a.styleSheet)a.styleSheet.cssText=x(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function n(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute('media',d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function o(a,b,c){var d=c.css,e=c.sourceMap,f=b.convertToAbsoluteUrls===void 0&&e;(b.convertToAbsoluteUrls||f)&&(d=w(d)),e&&(d+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+' */');var g=new Blob([d],{type:'text/css'}),h=a.href;a.href=URL.createObjectURL(g),h&&URL.revokeObjectURL(h)}var p={},q=function(a){var b;return function(){return'undefined'==typeof b&&(b=a.apply(this,arguments)),b}}(function(){return window&&document&&document.all&&!window.atob}),r=function(a,b){return b?b.querySelector(a):document.querySelector(a)},s=function(){var a={};return function(b,c){if('function'==typeof b)return b();if('undefined'==typeof a[b]){var d=r.call(this,b,c);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch(a){d=null}a[b]=d}return a[b]}}(),t=null,u=0,v=[],w=c(5);a.exports=function(a,b){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');b=b||{},b.attrs='object'==typeof b.attrs?b.attrs:{},b.singleton||'boolean'==typeof b.singleton||(b.singleton=q()),b.insertInto||(b.insertInto='head'),b.insertAt||(b.insertAt='bottom');var c=e(a,b);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=p[h.id];i.refs--,f.push(i)}if(a){var k=e(a,b);d(k,b)}for(var i,g=0;g<f.length;g++)if(i=f[g],0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete p[i.id]}}};var x=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join('\n')}}()},function(a){a.exports=function(a){var b='undefined'!=typeof window&&window.location;if(!b)throw new Error('fixUrls requires window.location');if(!a||'string'!=typeof a)return a;var c=b.protocol+'//'+b.host,d=c+b.pathname.replace(/\/[^\/]*$/,'/'),e=a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,b){var e=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(e))return a;var f;return f=0===e.indexOf('//')?e:0===e.indexOf('/')?c+e:d+e.replace(/^\.\//,''),'url('+JSON.stringify(f)+')'});return e}},function(a,b,c){'use strict';function d(a){return new Promise(function(b){var c=setInterval(function(){return function(a){return a&&b(a)&&clearInterval(c)}(document.querySelector(a))},100)})}function e(a){return new Promise(function(b){var c=setInterval(function(){return function(a){return 0<a.length&&b([].slice.call(a))&&clearInterval(c)}(document.querySelectorAll(a))},100)})}function f(a,b){return function(c){var d=c.indexOf('#'),e=-1===d?'':c.substr(d);c=-1===d?c:c.substr(0,d);var f=new RegExp('([?&])'+a+'=.*?(&|$)','i'),g=-1===c.indexOf('?')?'?':'&';return c=c.match(f)?c.replace(f,'$1'+a+'='+b+'$2'):c+g+a+'='+b,c+e}(window.location.href)}function g(a){return(window.location.search.match(new RegExp('(?<=[&?]'.concat(a,'=)[^&]*')))||[])[0]}function h(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);'function'==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){return m(a)||l(a)||k()}function k(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function l(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function m(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function n(a){a.parentNode&&a.parentNode.removeChild(a)}function o(a){var b,c=a.type,d=void 0===c?'div':c,f=a.id,g=void 0===f?'':f,k=a.classes,l=void 0===k?[]:k,m=a.contents,o=void 0===m?'':m,p=document.createElement(d);return p.id=g,(b=p.classList).add.apply(b,j(l)),p.innerHTML=o,p.detach=n.bind(null,p),p.pickStylesFrom=function(a,b){return Object.assign(p.style,function(a){return b.reduce(function(b,c){return h({},b,i({},c,a[c]))},{})}(window.getComputedStyle(a)))},p}function p(a){return s(a)||r(a)||q()}function q(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function r(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function s(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function t(a){a&&!M.parentNode?(document.body.prepend(M),M.animate({opacity:[0,1]},{duration:200,easing:'ease-out'}),I.animate({transform:['translateY(-50%) rotateX(80deg)','translateY(2%) rotateX(0)','translateY(0)'],opacity:[0,1,1],offset:[0,.8]},{duration:300,delay:100,easing:'ease-out',fill:'backwards'})):!a&&M.parentNode&&(N.style.transform='',M.animate({opacity:[1,0]},{duration:200,easing:'ease-out'}).onfinish=M.detach,I.animate({transform:['scale(1)','scale(1.1)','scale(.5)']},{duration:200,easing:'ease-out'}))}function u(a,b){return x(a)||w(a,b)||v()}function v(){throw new TypeError('Invalid attempt to destructure non-iterable instance')}function w(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h['return']||h['return']()}finally{if(e)throw f}}return c}function x(a){if(Array.isArray(a))return a}function y(a){var b=document.querySelector('#hdtb-tls.hdtb-tl'),c=document.querySelector(''.concat(O.root,' ').concat(O.menus,'.hdtb-tsel')),d=document.querySelector(''.concat(O.root,' .hdtb-mn-o'));b.matches('.hdtb-tl-sel')||b.click(),a&&!d?(c||document.querySelector(''.concat(O.root,' ').concat(O.menus))).click():!a&&d&&d.previousElementSibling.click()}function z(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function A(a){return D(a)||C(a)||B()}function B(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function C(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function D(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}c.r(b);var E=c(0),F=c.n(E),G=o({id:'ccjmne-snh-tooltip'});Object.assign(G,{concealTimer:null,reveal:function(a){G.parentNode!==a.target&&(clearTimeout(G.concealTimer),a.target.appendChild(G),G.concealTimer=setTimeout(G.conceal,3e3),G.animate({transform:['translate(-50%, 0) scale(0)','translate(-100%, 1em) scale(1.1)','translate(-100%, 1em) scale(1)'],offset:[0,.8]},{duration:200,easing:'ease-out',fill:'both'}))},conceal:function(){return(G.animate({transform:['translate(-100%, 1em) scale(1)','translate(-100%, 1em) scale(1.1)','translate(-100%, 1em) scale(.5)'],opacity:[1,1,0],offset:[0,.3]},{duration:200,easing:'ease-in',fill:'backwards'}).onfinish=function(){return G.parentNode&&G.parentNode.removeChild(G)})&&clearTimeout(G.concealTimer)}}),G.addEventListener('click',G.conceal);var H=o({type:'span',id:'ccjmne-snh-indicator'}),I=o({id:'ccjmne-snh-help-card',contents:'\n    <div id="ccjmne-snh-help-card-title">\n        <span>Navigation Hotkeys for Google\u2122 Search</span>\n        <small>by&nbsp;<a href="https://github.com/ccjmne">ccjmne</a></small>\n    </div>\n    <table></table>'}),J={"..":' to ',"-":'+',"|":' or ',"[":' [',"]":'] ',"w/":'add '},K={Up:'\u2191',Down:'\u2193',Left:'\u2190',Right:'\u2192',Ctrl:'\u2303',Shift:'\u21E7',Space:'\u23B5',Enter:'\u21B2',Escape:'\u241B'},L=I.querySelector('table');[[{desc:'Focus [previous] result',hotkey:'Up|k'},{desc:'Focus [next] result',hotkey:'Down|j'},{desc:'Navigate to [previous] page',hotkey:'Left|h'},{desc:'Navigate to [next] page',hotkey:'Right|l'}],[{desc:'Open [focused] result',hotkey:'Space|Enter'},{desc:'in [new tab]',hotkey:'w/Ctrl',indent:1},{desc:'and [follow]',hotkey:'w/Ctrl-Shift',indent:2},{desc:'Open result #[1] to #[9]',hotkey:'1..9'}],[{desc:'Focus [search] field',hotkey:'/'},{desc:'Enter [filter & sort] mode',hotkey:'Ctrl-/'}],[{desc:'Search [all]',hotkey:'a'},{desc:'Search [videos]',hotkey:'v'},{desc:'Search [images]',hotkey:'i'},{desc:'Search [news]',hotkey:'n'}],[{desc:'[Show] help',hotkey:'?'},{desc:'[Close] help',hotkey:'Escape'}]].forEach(function(a){return a.forEach(function(a,b){return L.appendChild(o({type:'tr',classes:0===b?['ccjmne-snh-new-section']:[],contents:'\n    <td>'.concat(a.indent?'<div class="ccjmne-snh-indent ccjmne-snh-indent-'.concat(a.indent,'"></div>'):'').concat(a.desc.replace(/\[([^\]]+)\]/g,function(a,b){return'<em>'.concat(b,'</em>')}),'</td>\n    <td>').concat(a.hotkey.split(new RegExp(function(a){return'(?='.concat(a,')|(?<=').concat(a,')')}(Object.keys(J).map(function(a){return a.replace(/./g,function(a){return'\\'+a})}).join('|')))).map(function(a){return J[a]||'<kbd>'.concat(a).concat(K[a]?'<span class="kbd-addon">'.concat(K[a],'</span>'):'','</kbd>')}).join(''),'</td>')}))})}),I.addEventListener('click',function(a){return a.stopPropagation()});var M=o({id:'ccjmne-snh-backdrop',contents:'\n    <div id="ccjmne-snh-tilt-origin">\n        <div id="ccjmne-snh-help-shadow"></div>\n        <div id="ccjmne-snh-help-card-container"></div>\n    </div>'}),N=M.querySelector('#ccjmne-snh-tilt-origin');M.querySelector('#ccjmne-snh-help-card-container').appendChild(I),M.addEventListener('click',function(){return t(!1)}),N.addEventListener('mouseleave',function(){return N.style.transform=''}),N.addEventListener('mousemove',F()(function(a){var b=Math.round,c=Math.pow,d=N.getBoundingClientRect(),e=d.left,f=d.top,g=d.right,h=d.bottom,i=a.clientX-(e+g)/2,j=a.clientY-(f+h)/2,k=Math.sqrt(c(i,2)+c(j,2))/Math.max(I.clientWidth,I.clientHeight);N.style.transform='rotate3d('.concat(b(j),', ').concat(-b(i),', 0, ').concat(10*k,'deg)')},100)),function(a){I.addEventListener('mousedown',function(){return a.down()}),I.addEventListener('mouseup',function(){return a.up()}),I.addEventListener('mouseleave',function(){return a.up()})}({isDown:!1,transform:['scale(1)','scale(.95)'],down:function(){this.isDown=this.isDown||I.animate({transform:this.transform},{duration:100,fill:'forwards',easing:'ease-out'})},up:function(){this.isDown=this.isDown&&(I.animate({transform:p(this.transform).reverse()},{duration:300,fill:'forwards',easing:'cubic-bezier(.25, 2.5, .25, .5)'}),!1)}}),H.addEventListener('mouseenter',G.reveal),G.addEventListener('click',function(){return t(!0)});var O={root:'#hdtbMenus',menus:'.hdtb-mn-hd[role=button][aria-haspopup=true]',options:['.hdtb-mn-o .hdtbItm > a','.hdtb-mn-o :not(input)[tabindex]']};Promise.all([d(O.root),e(''.concat(O.root,' ').concat(O.menus))]).then(function(a){var b=u(a,2),c=b[0],d=b[1];c.addEventListener('keydown',function(a){if(~['?','/','Escape'].indexOf(a.key))return y(!1);if(~['Enter','Escape',' ','ArrowLeft','ArrowUp','ArrowRight','ArrowDown','h','j','k','l'].indexOf(a.key)){var b=c.querySelector(O.options.map(function(a){return''.concat(a,':focus')})),e=[].slice.apply(c.querySelectorAll(O.options)),f=function(a){return a?d.indexOf(a.previousElementSibling):0}(c.querySelector('.hdtb-mn-o')),g=e.indexOf(b),h={Enter:function(){return b.click()}," ":function(){return b.click()},ArrowLeft:function(){return d[0<f?f-1:d.length-1].click()},ArrowUp:function(){return e[0<g?g-1:e.length-1].focus()},ArrowRight:function(){return d[(f+1)%d.length].click()},ArrowDown:function(){return e[(g+1)%e.length].focus()},h:function(){return h.ArrowLeft()},j:function(){return h.ArrowDown()},k:function(){return h.ArrowUp()},l:function(){return h.ArrowRight()}};h[a.key](),a.stopPropagation(),a.preventDefault()}})}),c(1),d('input.gsfi').then(function(a){var b=function(){return Promise.resolve().then(function(){a.focus(),a.setSelectionRange(a.value.length,a.value.length)})},c={restoreFocus:function(){return'noop'},Escape:function(){return t(!1),c.restoreFocus()},"?":function(){return t(!0)},a:function(){return window.location.href=f('tbm','')},i:function(){return window.location.href=f('tbm','isch')},m:function(){return null},n:function(){return window.location.href=f('tbm','nws')},v:function(){return window.location.href=f('tbm','vid')},"/":function(a){return a.ctrlKey?y(!0):b()}};a.addEventListener('blur',function(){return c.restoreFocus()}),document.body.onkeydown=function(a){a.srcElement.matches(['input','select','textarea'])||a.altKey||a.ctrlKey&&!~['/',' ','ArrowUp','ArrowDown','j','k'].indexOf(a.key)||~['ArrowLeft','ArrowUp','ArrowRight','ArrowDown','h','j','k','l'].indexOf(a.key)&&!~[void 0,null,'','nws','vid'].indexOf(g('tbm'))||function(b){return'function'==typeof b&&Promise.resolve(b(a)).then(function(){return a.preventDefault(),a.stopPropagation()})}(c[a.key])},e(['#search .r > a:first-of-type','#search .r g-link:first-of-type > a','.ads-ad h3 > a:not(:empty)','.ads-ad a > h3']).then(function(a){return a.filter(function(a){return!a.closest(['g-scrolling-carousel','g-accordion-expander'])})}).then(function(a){return a.filter(function(a){return null!==a.offsetParent})}).then(function(a){var d=this;Object.assign(this,{prev:document.querySelector('a.pn#pnprev'),next:document.querySelector('a.pn#pnnext'),cur:0<a.length?0:-1,results:a.map(function(a){return{container:a.closest(['.r','li.ads-ad','.ads-ad li']),palette:a.querySelector('h3')||a.closest('h3'),link:a.closest('a')}}),go:function(a){return d.results[d.cur]&&d.results[d.cur].link.dispatchEvent(new MouseEvent('click',a))},focus:function(a){return-1===(d.cur=a)?b().then(H.detach):function(a){a.link.focus(),a.container.prepend(H),a.container.scrollIntoView({behavior:'smooth',block:'center',inline:'center'}),H.animate([{transform:'translateX(-50px)'},{transform:'translateX(0)'}],{duration:100,easing:'ease-out'})}(d.results[a])}}),this.results.forEach(function(a,b){var c=o({classes:['ccjmne-snh-number-indicator'],contents:b+1});c.pickStylesFrom(a.palette,['height','line-height']),c.addEventListener('mouseenter',G.reveal),a.container.prepend(c)}),this.focus(this.cur),Object.assign.apply(Object,[c].concat(A(A(Array(9).keys()).map(function(a){return z({},a+1,function(b){return d.focus(a),d.go(b)})})))),Object.assign(c,{restoreFocus:function(){return d.focus(0<d.cur?d.cur:0)}," ":function(a){return d.go({ctrlKey:a.ctrlKey,shiftKey:a.shiftKey})},ArrowLeft:function(){return d.prev&&d.prev.dispatchEvent(new MouseEvent('click'))},ArrowUp:function(){return d.focus(0<d.cur?d.cur-1:d.results.length-1)},ArrowRight:function(){return d.next&&d.next.dispatchEvent(new MouseEvent('click'))},ArrowDown:function(){return d.focus(++d.cur%d.results.length)},h:function(){return c.ArrowLeft()},j:function(){return c.ArrowDown()},k:function(){return c.ArrowUp()},l:function(){return c.ArrowRight()}})}.bind({}))})}])});