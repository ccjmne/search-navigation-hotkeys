// ==UserScript==
// @name Search Navigation Hotkeys
// @version 1.3.0
// @description Navigate results from Googleâ„¢ search without ever lifting your hands off the keyboard!
// @author Eric NICOLAS <ccjmne@gmail.com> (https://github.com/ccjmne)
// @namespace https://github.com/ccjmne/search-navigation-hotkeys#readme
// @include *://www.google.tld/search*
// @downloadURL https://raw.githubusercontent.com/ccjmne/search-navigation-hotkeys/master/dist/userscript/main.user.js
// @grant none
// ==/UserScript==
(function(b,c){if('object'==typeof exports&&'object'==typeof module)module.exports=c();else if('function'==typeof define&&define.amd)define([],c);else{var d=c();for(var a in d)('object'==typeof exports?exports:b)[a]=d[a]}})(window,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=6)}([function(a){'use strict';a.exports=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,c=0;return function(){var d=new Date().getTime();if(d-c>=b)return c=d,a.apply(void 0,arguments)}}},function(a,b,c){var d=c(2);'string'==typeof d&&(d=[[a.i,d,'']]);var e,f={hmr:!0};f.transform=e,f.insertInto=void 0;c(4)(d,f);d.locals&&(a.exports=d.locals),!1},function(a,b,c){b=a.exports=c(3)(!1),b.push([a.i,'kbd.ccjmne-snh-kbd{display:inline-flex;padding:0.2em 0.5em;overflow:hidden;border:1px solid #aaa;border-radius:3px;background-color:#f8f8ff;box-shadow:0 1px 0 #aaa;font-family:monospace;white-space:nowrap;cursor:default}kbd.ccjmne-snh-kbd .kbd-addon{display:inline-flex;align-items:center;margin:-0.2em -0.5em -0.2em 0.5em;padding:0 0.5em;border-left:1px solid #aaa;background-color:rgba(0,0,0,0.1)}#hdtbMenus .hdtb-mn-o .hdtbItm>a:focus,#hdtbMenus .hdtb-mn-o :not(input)[tabindex]:focus{background-color:rgba(0,0,0,0.1)}#ccjmne-snh-help-card{padding-bottom:1vh;transition:box-shadow 0.2s ease-out;border-radius:5px;background-color:#f8f8ff;box-shadow:0 3px 6px rgba(0, 0, 0, .16), 0 3px 6px rgba(0, 0, 0, .23);color:#444;font-size:16px;user-select:none}#ccjmne-snh-help-card #ccjmne-snh-help-card-title{display:flex;align-items:center;justify-content:space-around;padding:2vh 2vw;border-bottom:3px solid crimson;border-radius:5px 5px 0 0;background-color:#708090;color:#f8f8ff;font-size:18px}#ccjmne-snh-help-card a,#ccjmne-snh-help-card a:visited{color:#f8f8ff}#ccjmne-snh-help-card em{color:crimson;font-weight:normal}#ccjmne-snh-help-card .ccjmne-snh-indent{display:inline-block;margin-right:5px;transform:rotate(-10deg);opacity:.67}#ccjmne-snh-help-card .ccjmne-snh-indent::before{content:\'\\293F\';position:relative;top:5px;font-size:1.5em;font-weight:lighter;line-height:0}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-1{margin-left:1em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-2{margin-left:2em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-3{margin-left:3em}#ccjmne-snh-help-card .ccjmne-snh-indent.ccjmne-snh-indent-4{margin-left:4em}#ccjmne-snh-help-card table{border-collapse:collapse;border-bottom:1vh solid #f8f8ff}#ccjmne-snh-help-card table tr{background-color:#f8f8ff}#ccjmne-snh-help-card table tr:nth-child(2n){background-color:#dde0e9}#ccjmne-snh-help-card table tr:hover{background-color:#b4bcc8;color:#000}#ccjmne-snh-help-card table tr:hover td::before{visibility:visible;left:-2vw}#ccjmne-snh-help-card table tr:hover td:last-child::before{left:2vw}#ccjmne-snh-help-card table tr:hover kbd{color:crimson}#ccjmne-snh-help-card table tr.ccjmne-snh-new-section td{border-top:2vh solid #f8f8ff}#ccjmne-snh-help-card table tr td{position:relative;padding:0.2em 0 0.2em 2vw;white-space:nowrap}#ccjmne-snh-help-card table tr td:last-child{padding-right:2vw;text-align:right}#ccjmne-snh-help-card table tr td::before{content:\'\';visibility:hidden;position:absolute;z-index:-1;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transition:all .1s ease-out;border-radius:3px;background-color:#b83852;box-shadow:0 3px 6px rgba(0, 0, 0, .16), 0 3px 6px rgba(0, 0, 0, .23)}#ccjmne-snh-indicator,.ccjmne-snh-number-indicator{position:absolute;left:-1.5em;cursor:help}#ccjmne-snh-indicator{color:crimson;font-size:18px}#ccjmne-snh-indicator::before{content:\'\\25B6\'}.ccjmne-snh-number-indicator{transform:translateX(-100%);color:#444;font-family:monospace;font-size:12px}#ccjmne-snh-indicator+.ccjmne-snh-number-indicator{display:none}.ccjmne-snh-tab-indicator-container{position:absolute}.ccjmne-snh-tab-indicator-container>kbd.ccjmne-snh-kbd{position:relative;opacity:0;font-size:12px;line-height:initial;cursor:inherit}#ccjmne-snh-backdrop{display:flex;position:fixed;z-index:999;top:0;right:0;bottom:0;left:0;align-items:center;justify-content:center;perspective:1000px;background-color:rgba(0,0,0,0.35)}#ccjmne-snh-tilt-origin{transform-style:preserve-3d;transition:transform 0.2s ease-out}#ccjmne-snh-tilt-origin:hover #ccjmne-snh-help-shadow{opacity:.5}#ccjmne-snh-tilt-origin:hover #ccjmne-snh-help-card{box-shadow:0 14px 28px rgba(0, 0, 0, .25), 0 10px 10px rgba(0, 0, 0, .22)}#ccjmne-snh-help-shadow{position:absolute;top:0;right:0;bottom:0;left:0;transform:scale(1.7) translateZ(-650px);transition:opacity 0.2s ease-out;border-radius:5px;opacity:0;background-color:#708090}#ccjmne-snh-help-card-container{perspective:2000px}#ccjmne-snh-tooltip{display:flex;position:absolute;top:0;left:-.5em;align-items:center;height:30px;padding:0 1em;transition:box-shadow 0.2s ease-out;border:1px solid #708090;border-radius:10px 0 10px 10px;background-color:#fff;color:#708090;font-family:sans-serif;font-size:13px;white-space:nowrap}#ccjmne-snh-tooltip::before{content:"What\'s this?"}#ccjmne-snh-tooltip:active,#ccjmne-snh-tooltip:hover{border-color:#434d57;box-shadow:0 1px 3px rgba(0, 0, 0, .12), 0 1px 2px rgba(0, 0, 0, .24);color:#434d57;cursor:pointer}#ccjmne-snh-tooltip:active{background-color:#f8f8ff}\n',''])},function(a){function b(a,b){var d=a[1]||'',e=a[3];if(!e)return d;if(b&&'function'==typeof btoa){var f=c(e),g=e.sources.map(function(a){return'/*# sourceURL='+e.sourceRoot+a+' */'});return[d].concat(g).concat([f]).join('\n')}return[d].join('\n')}function c(a){var b=btoa(unescape(encodeURIComponent(JSON.stringify(a))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+b)+' */'}a.exports=function(a){var c=[];return c.toString=function(){return this.map(function(c){var d=b(c,a);return c[2]?'@media '+c[2]+'{'+d+'}':d}).join('')},c.i=function(a,b){'string'==typeof a&&(a=[[null,a,'']]);for(var d,e={},f=0;f<this.length;f++)d=this[f][0],'number'==typeof d&&(e[d]=!0);for(f=0;f<a.length;f++){var g=a[f];'number'==typeof g[0]&&e[g[0]]||(b&&!g[2]?g[2]=b:b&&(g[2]='('+g[2]+') and ('+b+')'),c.push(g))}},c}},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=p[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(l(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(l(d.parts[f],b));p[d.id]={id:d.id,refs:1,parts:g}}}}function e(a,b){for(var c=[],d={},e=0;e<a.length;e++){var f=a[e],g=b.base?f[0]+b.base:f[0],h=f[1],i=f[2],j=f[3],k={css:h,media:i,sourceMap:j};d[g]?d[g].parts.push(k):c.push(d[g]={id:g,parts:[k]})}return c}function f(a,b){var c=s(a.insertInto);if(!c)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var d=v[v.length-1];if('top'===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),v.push(b);else if('bottom'===a.insertAt)c.appendChild(b);else if('object'==typeof a.insertAt&&a.insertAt.before){var e=s(a.insertAt.before,c);c.insertBefore(b,e)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function g(a){if(null===a.parentNode)return!1;a.parentNode.removeChild(a);var b=v.indexOf(a);0<=b&&v.splice(b,1)}function h(a){var b=document.createElement('style');if(void 0===a.attrs.type&&(a.attrs.type='text/css'),void 0===a.attrs.nonce){var c=k();c&&(a.attrs.nonce=c)}return j(b,a.attrs),f(a,b),b}function i(a){var b=document.createElement('link');return void 0===a.attrs.type&&(a.attrs.type='text/css'),a.attrs.rel='stylesheet',j(b,a.attrs),f(a,b),b}function j(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function k(){return!1,c.nc}function l(a,b){var c,d,e,f;if(b.transform&&a.css)if(f=b.transform(a.css),f)a.css=f;else return function(){};if(b.singleton){var j=u++;c=t||(t=h(b)),d=m.bind(null,c,j,!1),e=m.bind(null,c,j,!0)}else a.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(c=i(b),d=o.bind(null,c,b),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=n.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function m(a,b,c,d){var e=c?'':d.css;if(a.styleSheet)a.styleSheet.cssText=x(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function n(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute('media',d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function o(a,b,c){var d=c.css,e=c.sourceMap,f=b.convertToAbsoluteUrls===void 0&&e;(b.convertToAbsoluteUrls||f)&&(d=w(d)),e&&(d+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+' */');var g=new Blob([d],{type:'text/css'}),h=a.href;a.href=URL.createObjectURL(g),h&&URL.revokeObjectURL(h)}var p={},q=function(a){var b;return function(){return'undefined'==typeof b&&(b=a.apply(this,arguments)),b}}(function(){return window&&document&&document.all&&!window.atob}),r=function(a,b){return b?b.querySelector(a):document.querySelector(a)},s=function(){var a={};return function(b,c){if('function'==typeof b)return b();if('undefined'==typeof a[b]){var d=r.call(this,b,c);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch(a){d=null}a[b]=d}return a[b]}}(),t=null,u=0,v=[],w=c(5);a.exports=function(a,b){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');b=b||{},b.attrs='object'==typeof b.attrs?b.attrs:{},b.singleton||'boolean'==typeof b.singleton||(b.singleton=q()),b.insertInto||(b.insertInto='head'),b.insertAt||(b.insertAt='bottom');var c=e(a,b);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=p[h.id];i.refs--,f.push(i)}if(a){var k=e(a,b);d(k,b)}for(var i,g=0;g<f.length;g++)if(i=f[g],0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete p[i.id]}}};var x=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join('\n')}}()},function(a){a.exports=function(a){var b='undefined'!=typeof window&&window.location;if(!b)throw new Error('fixUrls requires window.location');if(!a||'string'!=typeof a)return a;var c=b.protocol+'//'+b.host,d=c+b.pathname.replace(/\/[^\/]*$/,'/'),e=a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,b){var e=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(e))return a;var f;return f=0===e.indexOf('//')?e:0===e.indexOf('/')?c+e:d+e.replace(/^\.\//,''),'url('+JSON.stringify(f)+')'});return e}},function(a,b,c){'use strict';function d(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function e(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a){return new ea(a,!0).promise}function h(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:da;return new ea(a,!0,b).promise}function i(a){return new ea(a,!1).promise}function j(a){return(window.location.search.match(new RegExp('(?<=[&?]'.concat(a,'=)[^&]*')))||[])[0]}function k(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);'function'==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){return p(a)||o(a)||n()}function n(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function o(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function p(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function q(a){a.parentNode&&a.parentNode.removeChild(a)}function r(a){var b,c=a.type,d=void 0===c?'div':c,f=a.id,g=void 0===f?'':f,h=a.classes,i=void 0===h?[]:h,j=a.contents,n=void 0===j?'':j,o=a.children,p=void 0===o?[]:o,r=a.attributes,s=void 0===r?{}:r,t=document.createElement(d);return t.id=g,(b=t.classList).add.apply(b,m(i)),t.innerHTML=n,t.detach=q.bind(null,t),t.pickStylesFrom=function(a,b){return Object.assign(t.style,function(a){return b.reduce(function(b,c){return k({},b,l({},c,a[c]))},{})}(window.getComputedStyle(a)))},Object.keys(s).forEach(function(a){return t.setAttribute(a,s[a])}),p.forEach(t.appendChild.bind(t)),t}function s(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function t(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Object.keys(fa);return'undefined'==typeof chrome||'undefined'==typeof chrome.storage||'undefined'==typeof chrome.storage.sync?Promise.resolve(ga(a)):new Promise(function(b){return chrome.storage.sync.get(ga(a),function(c){return'string'==typeof a?b(c[a]):b(c)})})}function u(a){return x(a)||w(a)||v()}function v(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function w(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function x(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function y(a){return~oa.indexOf(a)}function z(a){var b={hook:function(){return'noop'}};a.setAttribute('tabindex',-1),a.addEventListener('blur',function(){return b.hook()}),a.addEventListener('keydown',function(c){c.srcElement.matches(['input','select','textarea'])||c.altKey||c.ctrlKey||~['Control','Meta','Alt','Shift','CapsLock','Tab','Insert','Delete','Home','End','PageUp','PageDown','ScrollLock','Pause'].concat(u(Array(12).keys()).map(function(a){return'F'+a})).indexOf(c.key)||(c.preventDefault(),c.stopPropagation(),~oa.indexOf(c.key)&&(b.hook(),a.dispatchEvent(new Event(na,{bubbles:!0}))))});var c={};return Object.assign(c,{onBack:function(a){return b.hook=a,c},andFocus:function(){return a.focus(),c}})}function A(a){return D(a)||C(a)||B()}function B(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function C(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function D(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function E(a){a&&!pa.parentNode?(document.body.prepend(pa),z(pa).andFocus().onBack(function(){return E(!1)}),pa.animate({opacity:[0,1]},{duration:200,easing:'ease-out'}),ja.animate({transform:['translateY(-50%) rotateX(80deg)','translateY(2%) rotateX(0)','translateY(0)'],opacity:[0,1,1],offset:[0,.8]},{duration:300,delay:100,easing:'ease-out',fill:'backwards'})):!a&&pa.parentNode&&(qa.style.transform='',pa.animate({opacity:[1,0]},{duration:200,easing:'ease-out'}).onfinish=pa.detach,ja.animate({transform:['scale(1)','scale(1.1)','scale(.5)']},{duration:200,easing:'ease-out'}))}function F(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function G(a,b){return J(a)||I(a,b)||H()}function H(){throw new TypeError('Invalid attempt to destructure non-iterable instance')}function I(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h['return']||h['return']()}finally{if(e)throw f}}return c}function J(a){if(Array.isArray(a))return a}function K(a){var b=document.querySelector('#hdtb-tls.hdtb-tl'),c=document.querySelector(''.concat(ra.root,' ').concat(ra.menus,'.hdtb-tsel')),d=document.querySelector(''.concat(ra.root,' .hdtb-mn-o'));b.matches('.hdtb-tl-sel')||b.click(),a&&!d?(c||document.querySelector(''.concat(ra.root,' ').concat(ra.menus))).click():!a&&d&&d.previousElementSibling.click()}function L(a){return O(a)||N(a)||M()}function M(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function N(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function O(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function P(a,b){return S(a)||R(a,b)||Q()}function Q(){throw new TypeError('Invalid attempt to destructure non-iterable instance')}function R(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h['return']||h['return']()}finally{if(e)throw f}}return c}function S(a){if(Array.isArray(a))return a}function T(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function U(a){Promise.all([i(sa.mainArea),i(sa.more),g(sa.indicators)]).then(function(b){var c=P(b,3),d=c[0],e=c[1],f=c[2];a===f.some(function(a){return null===a.offsetParent})&&e.click(),a&&(ua=ta,va.focus(),d.scrollIntoView({block:'center',inline:'center'})),f.forEach(function(b){return b.style.opacity=a?1:0})})}function V(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function W(a){return Z(a)||Y(a)||X()}function X(){throw new TypeError('Invalid attempt to spread non-iterable instance')}function Y(a){if(Symbol.iterator in Object(a)||'[object Arguments]'===Object.prototype.toString.call(a))return Array.from(a)}function Z(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}c.r(b);var $=c(0),_=c.n($),aa=1e3,ba=50,ca=aa/ba,da=aa/4,ea=function(){function a(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return d(this,a),this.promise=new Promise(function(a,c){b.resolve=a,b.reject=c}),this._all=!!e,this._s=c,this._count=0,setTimeout(function(){return b._test()||(b._=setInterval(function(){return function(a){return a&&clearInterval(b._)}(b._test())},ba))},f)}return f(a,[{key:'_test',value:function(){if(this._all){var a=document.querySelectorAll(this._s);if(0<a.length)return this.resolve([].slice.call(a)),!0}else{var b=document.querySelector(this._s);if(b)return this.resolve(b),!0}++this._count>ca&&(clearInterval(this._),this.reject('Couldn\'t find '.concat(this._s,' after ').concat(ca,' tries.')))}}]),a}(),fa={"key:open-link":' ',"feature:whats-this":!0,"mode:secondary-navigation":'kjhl'},ga=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:fa;return Object.keys(b).filter(function(b){return~a.indexOf(b)}).reduce(function(a,c){return Object.assign(a,s({},c,b[c]))},{})},ha=r({id:'ccjmne-snh-tooltip'});Object.assign(ha,{concealTimer:null,reveal:function(a){ha.parentNode!==a.target&&(clearTimeout(ha.concealTimer),a.target.appendChild(ha),ha.concealTimer=setTimeout(ha.conceal,3e3),ha.animate({transform:['translate(-50%, 0) scale(0)','translate(-100%, 1em) scale(1.1)','translate(-100%, 1em) scale(1)'],offset:[0,.8]},{duration:200,easing:'ease-out',fill:'both'}))},conceal:function(){return(ha.animate({transform:['translate(-100%, 1em) scale(1)','translate(-100%, 1em) scale(1.1)','translate(-100%, 1em) scale(.5)'],opacity:[1,1,0],offset:[0,.3]},{duration:200,easing:'ease-in',fill:'backwards'}).onfinish=function(){return ha.parentNode&&ha.parentNode.removeChild(ha)})&&clearTimeout(ha.concealTimer)}}),ha.addEventListener('click',ha.conceal);var ia=r({type:'span',id:'ccjmne-snh-indicator'}),ja=r({id:'ccjmne-snh-help-card',contents:'\n    <div id="ccjmne-snh-help-card-title">\n        <span>Navigation Hotkeys for Google\u2122 Search</span>\n        <small>by&nbsp;<a href="https://github.com/ccjmne">ccjmne</a></small>\n    </div>\n    <table></table>'}),ka={"..":' to ',"-":'+',"|":' or ',"[":' [',"]":'] ',"w/":'add ',",":', then '},la={Up:'\u2191',Down:'\u2193',Left:'\u2190',Right:'\u2192',Ctrl:'\u2303',Shift:'\u21E7',Space:'\u23B5',Enter:'\u21B2',Escape:'\u241B'},ma=ja.querySelector('table');t(['mode:secondary-navigation','key:open-link']).then(function(a){var b=a['mode:secondary-navigation'],c=' '===a['key:open-link']?'Space':a['key:open-link'];[[{desc:'Focus [previous] result',hotkey:'Up|'.concat(b.charAt(0))},{desc:'Focus [next] result',hotkey:'Down|'.concat(b.charAt(1))},{desc:'Navigate to [previous] page',hotkey:'Left|'.concat(b.charAt(2))},{desc:'Navigate to [next] page',hotkey:'Right|'.concat(b.charAt(3))}],[{desc:'Open [focused] result',hotkey:'Enter|'.concat(c)},{desc:'in [new tab]',hotkey:'w/Ctrl',indent:1},{desc:'and [follow]',hotkey:'w/Ctrl-Shift',indent:2},{desc:'Open result #[1] to #[9]',hotkey:'1..9'}],[{desc:'Focus [search] field',hotkey:'/'},{desc:'Enter [filter & sort] mode',hotkey:'Ctrl-/'}],[{desc:'Enter [switch tabs] mode',hotkey:'g'},{desc:'switch to [all]',hotkey:'g,a',indent:1},{desc:'switch to [images]',hotkey:'g,i',indent:1},{desc:'switch to [videos]',hotkey:'g,v',indent:1},{desc:'switch to [news]',hotkey:'g,n',indent:1}],[{desc:'Enter [help] mode',hotkey:'?'},{desc:'[Quit] current mode',hotkey:'Escape|q'}]].forEach(function(a){return a.forEach(function(a,b){return ma.appendChild(r({type:'tr',classes:0===b?['ccjmne-snh-new-section']:[],contents:'\n  <td>'.concat(a.indent?'<div class="ccjmne-snh-indent ccjmne-snh-indent-'.concat(a.indent,'"></div>'):'').concat(a.desc.replace(/\[([^\]]+)\]/g,function(a,b){return'<em>'.concat(b,'</em>')}),'</td>\n  <td>').concat(a.hotkey.split(new RegExp(function(a){return'(?='.concat(a,')|(?<=').concat(a,')')}(Object.keys(ka).map(function(a){return a.replace(/./g,function(a){return'\\'+a})}).join('|')))).map(function(a){return ka[a]||'<kbd class="ccjmne-snh-kbd">'.concat(a).concat(la[a]?'<span class="kbd-addon">'.concat(la[a],'</span>'):'','</kbd>')}).join(''),'</td>')}))})}),ja.addEventListener('click',function(a){return a.preventDefault(),a.stopPropagation()})});var na='ccjmne-snh-restoreFocus',oa=['Escape','q','Q'],pa=r({id:'ccjmne-snh-backdrop',contents:'\n    <div id="ccjmne-snh-tilt-origin">\n        <div id="ccjmne-snh-help-shadow"></div>\n        <div id="ccjmne-snh-help-card-container"></div>\n    </div>'}),qa=pa.querySelector('#ccjmne-snh-tilt-origin');pa.querySelector('#ccjmne-snh-help-card-container').appendChild(ja),pa.addEventListener('click',function(){return E(!1)}),qa.addEventListener('mouseleave',function(){return qa.style.transform=''}),qa.addEventListener('mousemove',_()(function(a){var b=Math.round,c=Math.pow,d=qa.getBoundingClientRect(),e=d.left,f=d.top,g=d.right,h=d.bottom,i=a.clientX-(e+g)/2,j=a.clientY-(f+h)/2,k=Math.sqrt(c(i,2)+c(j,2))/Math.max(ja.clientWidth,ja.clientHeight);qa.style.transform='rotate3d('.concat(b(j),', ').concat(-b(i),', 0, ').concat(10*k,'deg)')},100)),function(a){ja.addEventListener('mousedown',function(){return a.down()}),ja.addEventListener('mouseup',function(){return a.up()}),ja.addEventListener('mouseleave',function(){return a.up()})}({isDown:!1,transform:['scale(1)','scale(.95)'],down:function(){this.isDown=this.isDown||ja.animate({transform:this.transform},{duration:100,fill:'forwards',easing:'ease-out'})},up:function(){this.isDown=this.isDown&&(ja.animate({transform:A(this.transform).reverse()},{duration:300,fill:'forwards',easing:'cubic-bezier(.25, 2.5, .25, .5)'}),!1)}}),ia.addEventListener('mouseenter',ha.reveal),ha.addEventListener('click',function(){return E(!0)});var ra={root:'#hdtbMenus',menus:'.hdtb-mn-hd[role=button][aria-haspopup=true]',options:['.hdtb-mn-o .hdtbItm > a','.hdtb-mn-o :not(input)[tabindex]']};Promise.all([i(ra.root),g(''.concat(ra.root,' ').concat(ra.menus)),t()]).then(function(a){var b=G(a,3),c=b[0],d=b[1],e=b[2],f=e['mode:secondary-navigation'],g=e['key:open-link'];z(c).onBack(function(){return K(!1)}),c.addEventListener('keydown',function(a){if(~['Enter','Escape',g,g.toUpperCase(),'ArrowLeft','ArrowUp','ArrowRight','ArrowDown'].concat(f.split('')).indexOf(a.key)){var b,e=c.querySelector(ra.options.map(function(a){return''.concat(a,':focus')})),h=[].slice.apply(c.querySelectorAll(ra.options)),i=function(a){return a?d.indexOf(a.previousElementSibling):0}(c.querySelector('.hdtb-mn-o')),j=h.indexOf(e),k=(b={Enter:function(){return e.click()}},F(b,g,function(){return e.click()}),F(b,g.toUpperCase(),function(){return e.click()}),F(b,'ArrowLeft',function(){return d[0<i?i-1:d.length-1].click()}),F(b,'ArrowUp',function(){return h[0<j?j-1:h.length-1].focus()}),F(b,'ArrowRight',function(){return d[(i+1)%d.length].click()}),F(b,'ArrowDown',function(){return h[(j+1)%h.length].focus()}),F(b,f.charAt(0),function(){return k.ArrowUp()}),F(b,f.charAt(1),function(){return k.ArrowDown()}),F(b,f.charAt(2),function(){return k.ArrowLeft()}),F(b,f.charAt(3),function(){return k.ArrowRight()}),b);k[a.key](),a.stopPropagation(),a.preventDefault()}})});var sa=function(a){return{mainArea:a,tabs:''.concat(a,' .hdtb-mitem a.q'),indicators:[''.concat(a,' .hdtb-mitem .ccjmne-snh-kbd'),'a[role=menuitem] .ccjmne-snh-kbd'],more:''.concat(a,' .hdtb-mitem > a:not(.q)')}}('#hdtb-msb'),ta={},ua=ta,va=r({});va.addEventListener('keydown',function(a){if(a.preventDefault(),a.stopPropagation(),'undefined'!=typeof ua[a.key]&&'function'==typeof ua[a.key].go)return ua[a.key].go();var b=Object.keys(ua).filter(function(b){return b[0]===a.key}).reduce(function(a,b){return Object.assign(a,T({},b[1],ua[b]))},{});ua=0===Object.keys(b).length?ta:b;var c=Object.keys(ua).map(function(a){return ua[a].el});g(sa.indicators).then(function(a){return a.forEach(function(a){return a.style.opacity=~c.indexOf(a)?1:0})})});var wa=function(a){var b=getComputedStyle(a),c=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight),d=parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth);return a.offsetWidth-c-d};g(sa.tabs).then(function(a){return a.map(function(a){return a._name=a.textContent.toLowerCase(),a}).map(function(b){return[b,a.map(function(a){return a._name}).filter(function(a){return a!==b._name})]}).map(function(a){var b=P(a,2),c=b[0],d=b[1];return[c,L(Array(10).keys()).find(function(a){return!d.some(function(b){return b.startsWith(c._name.substring(0,a))})})]}).map(function(a){var b=P(a,2),c=b[0],d=b[1];return[c,c._name.substring(0,d)]}).map(function(a){var b=P(a,2),c=b[0],d=b[1];return Object.assign(r({type:'kbd',classes:['ccjmne-snh-kbd'],contents:d,children:[]}),{menuItem:c.matches('[role=menuitem]'),name:d,tab:c})}).forEach(function(a){ta[a.name]={el:a,go:function(b){return a.tab.dispatchEvent(new MouseEvent('click',b))}},a.tab.prepend(r({classes:['ccjmne-snh-tab-indicator-container'],children:[a]})),a.menuItem?(a.style.left='-10px',a.style.transform='translateX(-100%)'):(a.style.top='-2px',a.style.left=''.concat((wa(a.tab)-a.getBoundingClientRect().width)/2,'px'),a.style.transform='translateY(-100%)')})}).then(function(){return i('body')}).then(function(a){return a.append(va),z(va).onBack(function(){return U(!1)})}),c(1),t().then(function(a){function b(a){var b=a.filter(function(a){return!a.closest(['g-scrolling-carousel','g-accordion-expander'])}).filter(function(a){return null!==a.offsetParent});(function(a){var e;Object.assign(a,{prev:document.querySelector('a.pn#pnprev'),next:document.querySelector('a.pn#pnnext'),cur:0<b.length?0:-1,results:b.map(function(a){return{container:a.closest(['.r','li.ads-ad','.ads-ad li']),palette:a.querySelector('h3')||a.closest('h3'),link:a.closest('a')}}),go:function(b){return a.results[a.cur]&&a.results[a.cur].link.dispatchEvent(new MouseEvent('click',b))},focus:function(b){return function(a){a.link.focus(),a.container.prepend(ia),a.container.scrollIntoView({behavior:'smooth',block:'center',inline:'center'}),ia.animate([{transform:'translateX(-50px)'},{transform:'translateX(0)'}],{duration:100,easing:'ease-out'})}(a.results[a.cur=b])}}),a.results.forEach(function(a,b){var c=r({classes:['ccjmne-snh-number-indicator'],contents:b+1});c.pickStylesFrom(a.palette,['height','line-height']),c.addEventListener('mouseenter',ha.reveal),a.container.style.position='relative',a.container.style.overflow='visible',a.container.querySelectorAll('.ccjmne-snh-number-indicator').forEach(function(b){return a.container.removeChild(b)}),a.container.prepend(c)}),Object.assign.apply(Object,[f].concat(W(W(Array(9).keys()).map(function(b){return V({},b+1,function(c){return a.focus(b),a.go(c)})})))),Object.assign(f,(e={restoreFocus:function(){return a.focus(0<a.cur?a.cur:0)}},V(e,d,function(b){return a.go({ctrlKey:b.ctrlKey,shiftKey:b.shiftKey})}),V(e,d.toUpperCase(),function(b){return a.go({ctrlKey:b.ctrlKey,shiftKey:b.shiftKey})}),V(e,'ArrowLeft',function(){return a.prev&&a.prev.dispatchEvent(new MouseEvent('click'))}),V(e,'ArrowUp',function(){return a.focus(0<a.cur?a.cur-1:a.results.length-1)}),V(e,'ArrowRight',function(){return a.next&&a.next.dispatchEvent(new MouseEvent('click'))}),V(e,'ArrowDown',function(){return a.focus(++a.cur%a.results.length)}),V(e,c.charAt(0),function(){return f.ArrowUp()}),V(e,c.charAt(1),function(){return f.ArrowDown()}),V(e,c.charAt(2),function(){return f.ArrowLeft()}),V(e,c.charAt(3),function(){return f.ArrowRight()}),e))})({})}var c=a['mode:secondary-navigation'],d=a['key:open-link'],f={restoreFocus:function(){return'noop'},"?":function(){return E(!0)},g:function(){return U(!0)}};i('input.gsfi').then(function(a){a.addEventListener('blur',function(){return f.restoreFocus()});var b=function(){return Promise.resolve().then(function(){a.focus(),a.setSelectionRange(a.value.length,a.value.length)})};Object.assign(f,{"/":function(a){return a.ctrlKey?K(!0):b()}})}),i('body').then(function(a){return a.addEventListener(na,function(){return f.restoreFocus()})}),i('body').then(function(a){return a.addEventListener('keydown',function(a){a.srcElement.matches(['input','select','textarea'])||a.altKey||a.ctrlKey&&!~['/',d,d.toUpperCase(),'ArrowUp','ArrowDown',c[0],c[1]].indexOf(a.key)||~['Control','Meta','Alt','Shift','CapsLock','Tab','Insert','Delete','Home','End','PageUp','PageDown','ScrollLock','Pause'].concat(W(Array(12).keys()).map(function(a){return'F'+a})).indexOf(a.key)||~['ArrowLeft','ArrowUp','ArrowRight','ArrowDown'].concat(c.split('')).indexOf(a.key)&&!~[void 0,null,'','nws','vid'].indexOf(j('tbm'))||(function(b){return'function'==typeof b&&Promise.resolve(a.preventDefault()).then(function(){return a.stopPropagation()}).then(function(){return b(a)})}(f[a.key]),y(a.key)&&f.restoreFocus())})}),g(['#search .r > a:first-of-type','#search .r g-link:first-of-type > a','.ads-ad h3 > a:not(:empty)','.ads-ad a > h3']).then(b).then(function(){return f.restoreFocus()}).then(function(){return h(['#search .r > a:first-of-type','#search .r g-link:first-of-type > a','.ads-ad h3 > a:not(:empty)','.ads-ad a > h3'])}).then(b)})}])});